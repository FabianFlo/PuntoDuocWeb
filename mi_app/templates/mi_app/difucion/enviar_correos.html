<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enviar Correos</title>
    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'bootstrap-5.3.3-dist/css/bootstrap.min.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
    <script>
        // Mostrar alerta si hay un mensaje
        window.onload = function() {
            const alertMessage = "{{ alert_message|default:'' }}";
            if (alertMessage) {
                alert(alertMessage);
            }
        };
    </script>
</head>
<body class="background-color">

{% include 'mi_app/navbar.html' %}

<section>
    <div class="container-lg mt-4 mb-5">
        <div class="row shadow mx-auto">
            <div class="col p-0 border-end">
                <div class="p-5 text-center rounded-start-3 background-image h-100" style="background-image: linear-gradient(rgba(255, 255, 255, 0.75), rgba(255, 255, 255, 0.75)), url('https://www.duoc.cl/wp-content/uploads/2020/06/plaza-vespucio.jpg') !important;">
                    <div class="bg-black bg-opacity-25 rounded h-100 d-flex align-items-center justify-content-center">
                        <div class="px-3">
                            <img src="https://www.duoc.cl/wp-content/themes/wordpress-duoc-cl/images/logo-duoc.svg" alt="Logo Duoc" width="30%">
                            <div>
                                <h1 class="text-black p-2 display-1">PuntoDuoc</h1>
                                <p class="text-center text-muted fs-2">Enviar Correos</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col p-0">
                <div class="p-4 rounded-end-3 bg-white">

                    <form class="row m-1 g-2 bg-white bg-opacity-25 px-4 py-3" method="POST">
                        {% csrf_token %}

                        <!---test-->

                        
                        <div class="col-12 m-0">
                            <div class="multi-collapse collapse show" id="multiCollapseFormEvento">
                                <!--FORM 1-->
                                <div>
                                    <!--...-->
                                    <h2>Enviar correos por Evento</h2>
                                    <div class="col-12 my-3">
                                        <button type="button" class="btn btn-light border border-dark col-12" data-bs-toggle="collapse" data-bs-target=".multi-collapse" aria-expanded="true" aria-controls="multiCollapseFormEvento multiCollapseFormCarrera">Cambiar Destinatario</button>
                                    </div>

                                    <hr class="mt-3">


                                    <div class="col-12">
                                        <label for="titulo_evento" class="form-label">TÃ­tulo del Evento:</label>
                                        <select name="titulo_evento" id="titulo_evento" class="form-select" required>
                                            {% for titulo in titulos_eventos %}
                                                <option value="{{ titulo }}">{{ titulo }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
            
                                    <div class="col-12">
                                        <label for="asunto_evento" class="form-label">Asunto:</label>
                                        <input type="text" id="asunto_evento" name="asunto_evento" class="form-control" required placeholder="Asunto del correo">
                                    </div>
            
                                    <div class="col-12">
                                        <label for="mensaje_evento" class="form-label">Mensaje:</label>
                                        <textarea id="mensaje_evento" name="mensaje_evento" rows="2" class="form-control" required placeholder="Escribe el mensaje..."></textarea>
                                    </div>
            
                                    <!--HIDDEN INPUT-->
                                    <input type="hidden" name="tipo" value="evento">
            

                                    <hr class="mt-3">
                                
                                    <!--Enviar correo por evento-->
                                    <div class="col-12 my-3">
                                        <input type="submit" value="Enviar Correos por Evento" class="btn btn-dark border border-dark col-12">
                                    </div>
                                    <!--...-->
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-12 m-0">
                            <div class="multi-collapse collapse" id="multiCollapseFormCarrera">
                                <!--FORM 2-->
                                <div>
                                    <!--...-->
                                    <h2>Enviar correos por Carrera</h2>
                                    <div class="col-12 my-3">
                                        <button type="button" class="btn btn-light border border-dark col-12" data-bs-toggle="collapse" data-bs-target=".multi-collapse" aria-expanded="true" aria-controls="multiCollapseFormEvento multiCollapseFormCarrera">Cambiar Destinatario</button>
                                    </div>

                                    <hr class="my-3">

                                    <div class="col-12">
                                        <label for="carrera" class="form-label">Carrera:</label>
                                        <select name="carrera" id="carrera" class="form-select" required>
                                            {% for carrera in carreras %}
                                                <option value="{{ carrera }}">{{ carrera }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
            
                                    <div class="col-12">
                                        <label for="asunto_carrera" class="form-label">Asunto:</label>
                                        <input type="text" id="asunto_carrera" name="asunto_carrera" class="form-control" required placeholder="Asunto del correo">
                                    </div>
            
                                    <div class="col-12">
                                        <label for="mensaje_carrera" class="form-label">Mensaje:</label>
                                        <textarea id="mensaje_carrera" name="mensaje_carrera" rows="2" class="form-control" required placeholder="Escribe el mensaje..."></textarea>
                                    </div>
            
                                    <input type="hidden" name="tipo" value="carrera">
                                    
                                    <hr class="mt-3">
                                    
                                    <!--Enviar correo por carrera-->
                                    <div class="col-12 my-3">
                                        <input type="submit" value="Enviar Correos por Carrera" class="btn btn-dark border border-dark col-12">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
</section>


<!------------->
<!-------------

<p class="d-inline-flex gap-1">
    <button class="btn btn-primary" type="button" data-bs-toggle="collapse" data-bs-target=".multi-collapse" aria-expanded="true" aria-controls="multiCollapseExample1 multiCollapseExample2">Toggle both elements</button>
  </p>
  <div class="row">

    <div class="col-12">
      <div class="multi-collapse collapse show" id="multiCollapseExample1" style="">
        <div class="card card-body">1</div>
      </div>
    </div>

    <div class="col-12">
      <div class="multi-collapse collapse" id="multiCollapseExample2" style="">
        <div class="card card-body">2</div>
      </div>
    </div>

  </div>

------------->





<!-------------

<p class="d-inline-flex gap-1">
    <button>Cambiar Destinatario</button>
  </p>
  <div class="row">

    <div class="col-12">
      <div class="multi-collapse collapse show" id="multiCollapseExample1" style="">
        <div class="card card-body">1</div>
      </div>
    </div>

    <div class="col-12">
      <div class="multi-collapse collapse" id="multiCollapseExample2" style="">
        <div class="card card-body">2</div>
      </div>
    </div>

  </div>

------------->
<!------------->

<script src="{% static 'bootstrap-5.3.3-dist/js/bootstrap.bundle.min.js' %}"></script>
</body>
</html>
